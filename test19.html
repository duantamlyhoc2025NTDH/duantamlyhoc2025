<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Test ƒê·ªìng c·∫£m Gi·ªõi</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #ede7f6, #ffffff);
      margin: 0;
      padding: 0;
    }
    main {
      padding: 40px;
      max-width: 800px;
      margin: auto;
      background-color: #ede7f6;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      color: #5e35b1;
      text-align: center;
    }
    section {
      background-color: #e8eaf6;
      padding: 15px;
      border-left: 5px solid #7e57c2;
      margin-bottom: 20px;
      border-radius: 6px;
    }
    .question {
      margin-top: 20px;
    }
    label {
      display: block;
      margin: 5px 0;
    }
    button {
      margin-top: 30px;
      padding: 14px 28px;
      background: linear-gradient(to right, #7e57c2, #5e35b1);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    button:hover {
      background: linear-gradient(to right, #5e35b1, #7e57c2);
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.25);
    }
    #result {
      margin-top: 40px;
      font-size: 18px;
      color: #333;
      background-color: #e8eaf6;
      padding: 20px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <main>
    <h2>ü§ù Test ƒê·ªìng c·∫£m Gi·ªõi</h2>

    <!-- M·ªû ƒê·∫¶U -->
    <section>
      <h3>Gi·ªõi thi·ªáu</h3>
      <p>
        B√†i tr·∫Øc nghi·ªám n√†y d·ª±a tr√™n l√Ω thuy·∫øt ƒë·ªìng c·∫£m v√† nh·∫≠n th·ª©c x√£ h·ªôi, gi√∫p b·∫°n kh√°m ph√° kh·∫£ nƒÉng ƒë·∫∑t m√¨nh v√†o v·ªã tr√≠ c·ªßa ng∆∞·ªùi kh√°c gi·ªõi, t·ª´ ƒë√≥ x√¢y d·ª±ng s·ª± th·∫•u hi·ªÉu v√† h·ªó tr·ª£ t·ªët h∆°n trong c√°c m·ªëi quan h·ªá c√° nh√¢n v√† x√£ h·ªôi.
      </p>
    </section>

    <div style="margin-bottom: 20px;">
      <label for="username"><strong>Nh·∫≠p t√™n c·ªßa b·∫°n:</strong></label>
      <input type="text" id="username" placeholder="T√™n c·ªßa b·∫°n..." style="padding: 8px; width: 100%; border-radius: 6px; border: 1px solid #ccc;">
    </div>

    <!-- C√ÇU H·ªéI -->
    <form id="quizForm">
      <div class="question" id="q1-wrap">
        <p><strong>1. B·∫°n c√≥ t·ª´ng l·∫Øng nghe chia s·∫ª t·ª´ ng∆∞·ªùi kh√°c gi·ªõi v·ªÅ kh√≥ khƒÉn c·ªßa h·ªç?</strong></p>
        <label><input type="radio" name="q1" value="3"> C√≥, r·∫•t ch√∫ t√¢m</label>
        <label><input type="radio" name="q1" value="2"> C√≥ nh∆∞ng ch∆∞a hi·ªÉu r√µ</label>
        <label><input type="radio" name="q1" value="1"> Hi·∫øm khi</label>
        <label><input type="radio" name="q1" value="0"> Kh√¥ng bao gi·ªù</label>
      </div>

      <div class="question" id="q2-wrap">
        <p><strong>2. B·∫°n c√≥ t·ª´ng ƒë·∫∑t m√¨nh v√†o v·ªã tr√≠ c·ªßa ng∆∞·ªùi kh√°c gi·ªõi ƒë·ªÉ hi·ªÉu c·∫£m x√∫c h·ªç?</strong></p>
        <label><input type="radio" name="q2" value="3"> Th∆∞·ªùng xuy√™n</label>
        <label><input type="radio" name="q2" value="2"> Th·ªânh tho·∫£ng</label>
        <label><input type="radio" name="q2" value="1"> Hi·∫øm khi</label>
        <label><input type="radio" name="q2" value="0"> Kh√¥ng bao gi·ªù</label>
      </div>

      <div class="question" id="q3-wrap">
        <p><strong>3. Khi ng∆∞·ªùi kh√°c gi·ªõi b·ªã ph√¢n bi·ªát, b·∫°n c√≥ ph·∫£n ·ª©ng?</strong></p>
        <label><input type="radio" name="q3" value="3"> C√≥, l√™n ti·∫øng b·∫£o v·ªá</label>
        <label><input type="radio" name="q3" value="2"> C√≥ nh∆∞ng nh·∫π nh√†ng</label>
        <label><input type="radio" name="q3" value="1"> Kh√¥ng r√µ</label>
        <label><input type="radio" name="q3" value="0"> Kh√¥ng ph·∫£n ·ª©ng</label>
      </div>

      <div class="question" id="q4-wrap">
        <p><strong>4. B·∫°n c√≥ t·ª´ng h·ªçc h·ªèi v·ªÅ tr·∫£i nghi·ªám c·ªßa ng∆∞·ªùi kh√°c gi·ªõi?</strong></p>
        <label><input type="radio" name="q4" value="3"> C√≥, ch·ªß ƒë·ªông t√¨m hi·ªÉu</label>
        <label><input type="radio" name="q4" value="2"> C√≥ nh∆∞ng ch∆∞a s√¢u</label>
        <label><input type="radio" name="q4" value="1"> Nghe qua</label>
        <label><input type="radio" name="q4" value="0"> Ch∆∞a t·ª´ng</label>
      </div>

      <div class="question" id="q5-wrap">
        <p><strong>5. B·∫°n c√≥ t·ª´ng chia s·∫ª quy·ªÅn l·ª£i v·ªõi ng∆∞·ªùi kh√°c gi·ªõi trong nh√≥m?</strong></p>
        <label><input type="radio" name="q5" value="3"> C√≥, lu√¥n c√¥ng b·∫±ng</label>
        <label><input type="radio" name="q5" value="2"> C√≥ nh∆∞ng ch∆∞a ƒë·ªÅu</label>
        <label><input type="radio" name="q5" value="1"> Hi·∫øm khi</label>
        <label><input type="radio" name="q5" value="0"> Kh√¥ng bao gi·ªù</label>
      </div>

      <div class="question" id="q6-wrap">
        <p><strong>6. B·∫°n c√≥ t·ª´ng c·∫£m th·∫•y x√∫c ƒë·ªông khi nghe c√¢u chuy·ªán c·ªßa ng∆∞·ªùi kh√°c gi·ªõi?</strong></p>
        <label><input type="radio" name="q6" value="3"> C√≥, r·∫•t ƒë·ªìng c·∫£m</label>
        <label><input type="radio" name="q6" value="2"> C√≥ nh∆∞ng kh√¥ng r√µ</label>
        <label><input type="radio" name="q6" value="1"> Hi·∫øm khi</label>
        <label><input type="radio" name="q6" value="0"> Kh√¥ng bao gi·ªù</label>
      </div>

      <div class="question" id="q7-wrap">
        <p><strong>7. B·∫°n c√≥ t·ª´ng gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c gi·ªõi v∆∞·ª£t qua kh√≥ khƒÉn?</strong></p>
        <label><input type="radio" name="q7" value="3"> C√≥, ch·ªß ƒë·ªông h·ªó tr·ª£</label>
        <label><input type="radio" name="q7" value="2"> C√≥ khi ƒë∆∞·ª£c nh·ªù</label>
        <label><input type="radio" name="q7" value="1"> Hi·∫øm khi</label>
        <label><input type="radio" name="q7" value="0"> Kh√¥ng bao gi·ªù</label>
      </div>

      <div class="question" id="q8-wrap">
        <p><strong>8. B·∫°n c√≥ t·ª´ng chia s·∫ª c·∫£m x√∫c th·∫≠t v·ªõi ng∆∞·ªùi kh√°c gi·ªõi?</strong></p>
        <label><input type="radio" name="q8" value="3"> C√≥, th∆∞·ªùng xuy√™n</label>
        <label><input type="radio" name="q8" value="2"> C√≥ nh∆∞ng d√® d·∫∑t</label>
        <label><input type="radio" name="q8" value="1"> Hi·∫øm khi</label>
        <label><input type="radio" name="q8" value="0"> Kh√¥ng bao gi·ªù</label>
      </div>

      <div class="question" id="q9-wrap">
        <p><strong>9. B·∫°n c√≥ t·ª´ng thay ƒë·ªïi g√≥c nh√¨n sau khi hi·ªÉu tr·∫£i nghi·ªám c·ªßa ng∆∞·ªùi kh√°c gi·ªõi?</strong></p>
        <label><input type="radio" name="q9" value="3"> C√≥, r√µ r√†ng</label>
        <label><input type="radio" name="q9" value="2"> C√≥ nh∆∞ng ch∆∞a s√¢u</label>
        <label><input type="radio" name="q9" value="1"> Kh√¥ng r√µ</label>
        <label><input type="radio" name="q9" value="0"> Kh√¥ng thay ƒë·ªïi</label>
      </div>

      <div class="question" id="q10-wrap">
        <p><strong>10. B·∫°n c√≥ mong mu·ªën x√¢y d·ª±ng m√¥i tr∆∞·ªùng ƒë·ªìng c·∫£m gi·ªõi?</strong></p>
        <label><input type="radio" name="q10" value="3"> R·∫•t mong mu·ªën</label>
        <label><input type="radio" name="q10" value="2"> C√≥ th·ªÉ</label>
        <label><input type="radio" name="q10" value="1"> Kh√¥ng r√µ</label>
        <label><input type="radio" name="q10" value="0"> Kh√¥ng quan t√¢m</label>
      </div>

      <button type="button" onclick="calculateScore(); notifyTestTaken();">Xem k·∫øt qu·∫£</button>
    </form>

    <!-- K·∫æT QU·∫¢ -->
    <div id="result"></div>

    <!-- MI·ªÑN TR·ª™ TR√ÅCH NHI·ªÜM -->
    <section style="margin-top: 40px; font-size: 0.95rem; color: #555; background-color: #e8eaf6; padding: 15px; border-left: 4px solid #7e57c2; border-radius: 6px;">
      <strong>L∆∞u √Ω:</strong> B√†i tr·∫Øc nghi·ªám ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o, kh√¥ng ph·∫£n √°nh to√†n di·ªán nƒÉng l·ª±c ƒë·ªìng c·∫£m hay gi√° tr·ªã c√° nh√¢n. N·∫øu b·∫°n mu·ªën ph√°t tri·ªÉn k·ªπ nƒÉng ƒë·ªìng c·∫£m, h√£y l·∫Øng nghe nhi·ªÅu h∆°n v√† t√¨m hi·ªÉu tr·∫£i nghi·ªám c·ªßa ng∆∞·ªùi kh√°c m·ªôt c√°ch ch√¢n th√†nh.
    </section>
  </main>

  <!-- TR·ªòN ƒê√ÅP √ÅN: gi·ªØ nguy√™n n·ªôi dung, ch·ªâ ƒë·ªïi v·ªã tr√≠ l·ª±a ch·ªçn -->
  <script>
    function shuffleLabels(wrapperId) {
      const wrap = document.getElementById(wrapperId);
      if (!wrap) return;
      const labels = Array.from(wrap.querySelectorAll('label'));
      // Fisher‚ÄìYates shuffle
      for (let i = labels.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [labels[i], labels[j]] = [labels[j], labels[i]];
      }
      // Re-append in shuffled order
      labels.forEach(l => wrap.appendChild(l));
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Tr·ªôn t·ª´ng c√¢u m·ªôt, tr√°nh to√†n A/B
      for (let i = 1; i <= 10; i++) {
        shuffleLabels('q' + i + '-wrap');
      }
    });
  </script>

  <!-- T√çNH ƒêI·ªÇM: gi·ªØ nguy√™n logic v√† ng∆∞·ª°ng -->
  <script>
    function calculateScore() {
      const name = document.getElementById("username")?.value?.trim() || "B·∫°n";
      let score = 0;
      for (let i = 1; i <= 10; i++) {
        const answer = document.querySelector('input[name="q' + i + '"]:checked');
        if (answer) score += parseInt(answer.value);
      }
      let resultText = `<p><strong>üë§ Ng∆∞·ªùi l√†m b√†i:</strong> ${name}</p>`;
      if (score <= 10) {
        resultText += "<p>üìò <strong>ƒê·ªìng c·∫£m gi·ªõi th·∫•p:</strong> B·∫°n ch∆∞a c√≥ nhi·ªÅu tr·∫£i nghi·ªám ho·∫∑c ch∆∞a th·ª±c s·ª± ƒë·∫∑t m√¨nh v√†o v·ªã tr√≠ c·ªßa ng∆∞·ªùi kh√°c gi·ªõi. H√£y b·∫Øt ƒë·∫ßu b·∫±ng vi·ªác l·∫Øng nghe v√† quan s√°t nhi·ªÅu h∆°n.</p>";
      } else if (score <= 20) {
        resultText += "<p>üìó <strong>ƒê·ªìng c·∫£m gi·ªõi trung b√¨nh:</strong> B·∫°n ƒë√£ c√≥ s·ª± quan t√¢m nh·∫•t ƒë·ªãnh ƒë·∫øn tr·∫£i nghi·ªám gi·ªõi, nh∆∞ng v·∫´n c·∫ßn m·ªü r·ªông g√≥c nh√¨n v√† chia s·∫ª nhi·ªÅu h∆°n.</p>";
      } else {
        resultText += "<p>üìï <strong>ƒê·ªìng c·∫£m gi·ªõi cao:</strong> B·∫°n c√≥ kh·∫£ nƒÉng th·∫•u hi·ªÉu v√† h·ªó tr·ª£ ng∆∞·ªùi kh√°c gi·ªõi m·ªôt c√°ch t√≠ch c·ª±c. H√£y lan t·ªèa s·ª± ƒë·ªìng c·∫£m n√†y ƒë·∫øn c·ªông ƒë·ªìng nh√©!</p>";
      }
      document.getElementById("result").innerHTML = resultText;
    }
  </script>

  <!-- EMAILJS gi·ªØ nguy√™n -->
  <script>
    emailjs.init("4VgGpbhLt6pGYWnpB"); // Public Key c·ªßa ch·ªã

    function notifyTestTaken() {
      emailjs.send("service_mvaiail", "template_contact", {
        message: "C√≥ ng∆∞·ªùi v·ª´a ho√†n th√†nh b√†i test BSRI.",
        timestamp: new Date().toLocaleString()
      }).then(function(response) {
        console.log("Email ƒë√£ g·ª≠i th√†nh c√¥ng!", response.status);
      }, function(error) {
        console.error("G·ª≠i email th·∫•t b·∫°i", error);
      });
    }
  </script>
</body>
</html>
